[gd_scene load_steps=5 format=3 uid="uid://d0yw1jghci4h5"]

[ext_resource type="Material" uid="uid://ci35dxa4c1wj5" path="res://algorithms/proceduralgeneration/marchingcave/Materials/TerrainMat.tres" id="1_gptaj"]
[ext_resource type="Script" uid="uid://c2aji3u2bgmv8" path="res://algorithms/proceduralgeneration/marchingcave/Scripts/TerrainGenerator.gd" id="2_kc6u2"]

[sub_resource type="Environment" id="Environment_q07dc"]
background_mode = 1
background_color = Color(0.01, 0.01, 0.015, 1)
ambient_light_source = 2
ambient_light_color = Color(0.08, 0.06, 0.05, 1)
ambient_light_energy = 0.05
ssao_enabled = true
ssao_radius = 15.0
ssao_intensity = 8.0
ssao_power = 3.0
ssao_horizon = 0.1
glow_enabled = true
glow_intensity = 3.0
glow_bloom = 0.6
glow_blend_mode = 0
fog_enabled = true
fog_light_color = Color(0.05, 0.04, 0.03, 1)
fog_light_energy = 0.05
fog_density = 0.025
fog_height = -30.0
fog_height_density = 0.8
volumetric_fog_enabled = true
volumetric_fog_density = 0.12
volumetric_fog_albedo = Color(0.08, 0.06, 0.05, 1)
volumetric_fog_emission = Color(0.015, 0.01, 0.008, 1)
volumetric_fog_emission_energy = 0.2
volumetric_fog_gi_inject = 0.2
volumetric_fog_length = 50.0
volumetric_fog_detail_spread = 6.0
volumetric_fog_ambient_inject = 0.05
volumetric_fog_temporal_reprojection_amount = 0.85
adjustment_enabled = true
adjustment_brightness = 0.75
adjustment_contrast = 1.25
adjustment_saturation = 0.85

[sub_resource type="BoxMesh" id="BoxMesh_gptaj"]

[node name="Node3D" type="Node3D"]

[node name="Terrain" type="MeshInstance3D" parent="."]
material_override = ExtResource("1_gptaj")
script = ExtResource("2_kc6u2")
noise_scale = 3.8
noise_offset = Vector3(150, -100, 200)
iso_level = 0.88
chunk_scale = 280.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 5, 15)
near = 0.3
far = 300.0

[node name="OmniLight3D_PlayerTorch" type="OmniLight3D" parent="Camera3D"]
light_color = Color(1, 0.75, 0.5, 1)
light_energy = 4.0
light_indirect_energy = 1.5
light_volumetric_fog_energy = 8.0
shadow_enabled = true
shadow_opacity = 0.7
shadow_blur = 3.0
omni_range = 40.0
omni_attenuation = 2.5

[node name="OmniLight3D_Torch1" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25, 6, -18)
light_color = Color(1, 0.6, 0.25, 1)
light_energy = 5.0
light_indirect_energy = 1.8
light_volumetric_fog_energy = 10.0
shadow_enabled = true
shadow_opacity = 0.65
omni_range = 45.0
omni_attenuation = 2.2

[node name="OmniLight3D_Torch2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 4, 12)
light_color = Color(1, 0.55, 0.2, 1)
light_energy = 4.5
light_indirect_energy = 1.5
light_volumetric_fog_energy = 9.0
shadow_enabled = true
shadow_opacity = 0.6
omni_range = 40.0
omni_attenuation = 2.3

[node name="OmniLight3D_Torch3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 8, -25)
light_color = Color(1, 0.65, 0.3, 1)
light_energy = 3.5
light_indirect_energy = 1.2
light_volumetric_fog_energy = 7.0
omni_range = 35.0
omni_attenuation = 2.0

[node name="OmniLight3D_Bio1" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, -4, -22)
light_color = Color(0.2, 0.9, 0.7, 1)
light_energy = 2.5
light_indirect_energy = 2.0
light_volumetric_fog_energy = 6.0
omni_range = 30.0
omni_attenuation = 1.8

[node name="OmniLight3D_Bio2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, -7, 28)
light_color = Color(0.3, 0.7, 1, 1)
light_energy = 2.2
light_indirect_energy = 1.8
light_volumetric_fog_energy = 5.5
omni_range = 32.0
omni_attenuation = 1.9

[node name="OmniLight3D_Bio3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 10, 35)
light_color = Color(0.5, 0.3, 1, 1)
light_energy = 1.8
light_indirect_energy = 1.5
light_volumetric_fog_energy = 4.5
omni_range = 28.0
omni_attenuation = 2.0

[node name="SpotLight3D_Crevice1" type="SpotLight3D" parent="."]
transform = Transform3D(0.707107, -0.612372, 0.353553, 0, 0.5, 0.866025, -0.707107, -0.612372, 0.353553, -12, 22, -8)
light_color = Color(0.6, 0.5, 0.4, 1)
light_energy = 1.8
light_volumetric_fog_energy = 5.0
shadow_enabled = true
shadow_opacity = 0.75
spot_range = 50.0
spot_attenuation = 1.8
spot_angle = 38.0
spot_angle_attenuation = 2.2

[node name="SpotLight3D_Crevice2" type="SpotLight3D" parent="."]
transform = Transform3D(-0.707107, -0.612372, -0.353553, 0, 0.5, 0.866025, 0.707107, -0.612372, 0.353553, 15, 18, 10)
light_color = Color(0.5, 0.4, 0.35, 1)
light_energy = 1.5
light_volumetric_fog_energy = 4.5
shadow_enabled = true
shadow_opacity = 0.7
spot_range = 45.0
spot_attenuation = 1.7
spot_angle = 35.0
spot_angle_attenuation = 2.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_q07dc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 5, 5)
visible = false
mesh = SubResource("BoxMesh_gptaj")
