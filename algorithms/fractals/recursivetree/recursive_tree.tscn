[gd_scene load_steps=8 format=3 uid="uid://c3vx8mh2nwqpk"]

[ext_resource type="Script" path="res://algorithms/fractals/recursivetree/recursive_tree.gd" id="1_tree"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_sky"]
sky_top_color = Color(0.385, 0.454, 0.55, 1)
sky_horizon_color = Color(0.646, 0.656, 0.67, 1)
ground_bottom_color = Color(0.102, 0.145, 0.188, 1)
ground_horizon_color = Color(0.646, 0.656, 0.67, 1)

[sub_resource type="Sky" id="Sky_env"]
sky_material = SubResource("ProceduralSkyMaterial_sky")

[sub_resource type="Environment" id="Environment_main"]
background_mode = 2
sky = SubResource("Sky_env")
ambient_light_source = 3
ambient_light_color = Color(0.7, 0.75, 0.8, 1)
ambient_light_energy = 0.6
tonemap_mode = 2
glow_enabled = true
glow_intensity = 0.3
glow_strength = 0.8
glow_bloom = 0.2
fog_enabled = true
fog_light_color = Color(0.7, 0.75, 0.8, 1)
fog_density = 0.001
fog_height = 0.0
fog_height_density = 0.5

[sub_resource type="PlaneMesh" id="PlaneMesh_ground"]
size = Vector2(40, 40)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ground"]
albedo_color = Color(0.15, 0.2, 0.12, 1)
roughness = 0.9

[sub_resource type="BoxShape3D" id="BoxShape3D_ground"]
size = Vector3(40, 0.1, 40)

[node name="RecursiveTree" type="Node3D"]
script = ExtResource("1_tree")
growth_interval = 0.3
max_depth = 10
auto_start = true
initial_branch_length = 2.0
initial_branch_thickness = 0.2
length_reduction = 0.7
thickness_reduction = 0.65
branch_count = 3
branch_angle_min = 20.0
branch_angle_max = 35.0
rotation_variation = 360.0
add_randomness = true
randomness_amount = 0.15

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_main")

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)

[node name="GroundMesh" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("PlaneMesh_ground")
surface_material_override/0 = SubResource("StandardMaterial3D_ground")

[node name="GroundCollision" type="CollisionShape3D" parent="Ground"]
shape = SubResource("BoxShape3D_ground")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.866025, -0.25, 0.433013, 0, 0.866025, 0.5, -0.5, -0.433013, 0.75, 8, 10, 8)
current = true
fov = 60.0

[node name="CameraOrbit" type="Node3D" parent="."]

[node name="Camera3DRotating" type="Camera3D" parent="CameraOrbit"]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 8, 12)
fov = 60.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.866025, -0.422618, 0.267238, 0, 0.534522, 0.845154, -0.5, -0.731888, 0.462976, 5, 12, 3)
light_color = Color(1, 0.95, 0.85, 1)
light_energy = 1.2
shadow_enabled = true
shadow_bias = 0.05
shadow_blur = 2.0

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.707107, -0.353553, -0.612372, 0, 0.866025, -0.5, 0.707107, -0.353553, -0.612372, -4, 8, -4)
light_color = Color(0.7, 0.8, 1, 1)
light_energy = 0.4
shadow_enabled = false

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 4, 3)
light_color = Color(1, 0.9, 0.7, 1)
light_energy = 0.5
omni_range = 15.0
omni_attenuation = 0.5

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
