[gd_scene load_steps=9 format=3 uid="uid://cj4k8n7q2w5x1"]

[ext_resource type="PackedScene" uid="uid://qbmx03iibuuu" path="res://addons/godot-xr-tools/staging/scene_base.tscn" id="1_base"]
[ext_resource type="PackedScene" uid="uid://bnx646jq4nruq" path="res://commons/grid/multi_layer_grid.tscn" id="2_grid"]
[ext_resource type="Script" uid="uid://co0nar8cxq0i" path="res://commons/managers/SequenceRunner.gd" id="3_sequence_runner"]
[ext_resource type="PackedScene" uid="uid://diyu06cw06syv" path="res://addons/godot-xr-tools/player/player_body.tscn" id="4_player_body"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_grid"]
sky_top_color = Color(0.2, 0.4, 0.7, 1)
sky_horizon_color = Color(0.6, 0.7, 0.8, 1)
ground_bottom_color = Color(0.3, 0.5, 0.3, 1)
ground_horizon_color = Color(0.5, 0.6, 0.5, 1)

[sub_resource type="Sky" id="Sky_grid"]
sky_material = SubResource("ProceduralSkyMaterial_grid")

[sub_resource type="Environment" id="Environment_grid"]
background_mode = 2
sky = SubResource("Sky_grid")
ambient_light_source = 3
ambient_light_energy = 0.7
tonemap_mode = 2

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fade"]
radius = 10.0
height = 20.0

[node name="Grid" instance=ExtResource("1_base")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_grid")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." index="1"]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 8, 0)
shadow_enabled = true

[node name="XROrigin3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="PlayerBody" parent="XROrigin3D" index="3" instance=ExtResource("4_player_body")]

[node name="SequenceRunner" type="Node3D" parent="." index="3"]
script = ExtResource("3_sequence_runner")

[node name="multiLayerGrid" parent="." index="4" instance=ExtResource("2_grid")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="FadeArea" type="Area3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="FadeArea" index="0"]
shape = SubResource("CapsuleShape3D_fade")

[node name="Label3D" type="Label3D" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, -3)
text = "Grid Sequence Execution"
font_size = 24
