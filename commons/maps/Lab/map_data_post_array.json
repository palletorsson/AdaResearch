{
	"map_info": {
		"name": "Lab - Post Array",
		"description": "Central Science Lab - After completing array sequence",
		"version": "2.0",
		"format": "json_lab",
		"dimensions": {
			"width": 12,
			"depth": 12,
			"max_height": 6
		},
		"metadata": {
			"difficulty": "hub",
			"category": "laboratory",
			"estimated_time": "exploration based",
			"learning_objectives": [
				"Central hub after array completion",
				"Access to more advanced sequences",
				"Progressive artifact discovery"
			]
		}
	},
	"layers": {
		"structure": [
			["5", "5", "5", "5", "5", "5", "5", "5", "5"],
			["5", "1", "1", "1", "1", "2", "0", "0", "5"],
			["5", "1", "2", "1", "1", "2", "0", "0", "5"],
			["5", "1", "2", "1", "1", "0", "0", "0", "5"],
			["5", "1", "0", "1", "1", "0", "0", "0", "5"],
			["5", "1", "2", "1", "1", "0", "0", "0", "5"],
			["5", "1", "1", "1", "1", "0", "0", "0", "5"],
			["5", "5", "5", "5", "5", "5", "5", "5", "5"],
			["0", "0", "0", "0", "0", "0", "0", "0", "0"],
			["0", "0", "0", "0", "0", "0", "0", "0", "0"]
		],
		"static_objects": [
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "]
		],
		"utilities": [
			[" ", " ", " ", " ", " ", " ", " ", " "],				
			[" ", " ", " ", " ", "wp:90", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", "t:transformation", " "],
			[" ", " ", " ", " ", " ", " ", "t:color", " "],
			[" ", " ", "t:primitives", " ", " ", " ", "t:array", "t:randomness"],
			[" ", "monitorsystem", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "]
		],
		"interactables": [
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", "pyramid_edit:45:0:0.4", " ", " ", " ", "array_viz"],
			[" ", " ", "smallcontainment:-90:0:4", " ", " ", " ", "rainbow:90:0.5:0.1"],
			[" ", " ", "cube_scene:0:2", " ", " ", " ", " "],
			[" ", " ", "clipboard#pages:vr#title:A Vr", " ", " ", " ", " "],
			[" ", "infokiosk:180", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "],
			[" ", " ", " ", " ", " ", " ", " ", " "]
		]
	},
	"external_references": {
		"artifact_registries": [
			"res://commons/artifacts/lab_artifacts.json",
			"res://commons/artifacts/grid_artifacts.json"
		],
		"utility_registry": "res://commons/utilities/utility_registry.json",
		"fallback_to_gdscript": "res://commons/grid/UtilityRegistry.gd"
	},
	"artifact_definitions": {
		"note": "Artifacts are now referenced by lookup_name from external registry files",
		"rotating_cube": "References lab_artifacts.json rotating_cube definition",
		"primitives_badge": "Badge showing completion of primitives sequence"
	},
	"utility_definitions": {
		"note": "Utilities are now referenced from external registry",
		"s": "References utility_registry.json spawn_point definition",
		"t": {
			"type": "teleporter",
			"name": "Next Sequence",
			"description": "Start a new learning sequence",
			"properties": {
				"action": "start_sequence",
				"visual_effect": "portal_glow"
			}
		}
	},
	"spawn_points": {
		"default": {
			"position": [0.5, 1.8, 6.0],
			"rotation": [0.0, 180.0, 0.0],
			"description": "Main entrance - facing the central table"
		}
	},
	"lighting": {
		"ambient_color": [0.9, 0.9, 1.0],
		"ambient_energy": 0.3,
		"directional_light": {
			"enabled": true,
			"direction": [-0.3, -0.8, -0.2],
			"color": [1.0, 1.0, 1.0],
			"energy": 1.0
		},
		"lab_atmosphere": {
			"enable_particle_effects": false,
			"fog_enabled": false,
			"mood": "bright_scientific"
		}
	},
	"settings": {
		"cube_size": 1.0,
		"gutter": 0.0,
		"show_grid": false,
		"enable_physics": true,
		"lab_mode": true,
		"background": {
			"type": "sky",
			"color": [0.1, 0.15, 0.25]
		},
		"ceiling": {
			"height": 4.0,
			"tile_size": 0.5,
			"width": 8.0,
			"depth": 7.0,
			"light_spacing": 2,
			"light_intensity": 0.5,
			"preset": "office"
		},
		"progression": {
			"enable_artifact_unlocking": true,
			"save_progression": true,
			"initial_artifacts": ["rotating_cube"],
			"unlock_on_sequence_completion": true
		}
	}
}
